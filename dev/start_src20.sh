#!/bin/bash

KEY="captain"
CHAINID="brczero-67"
MONIKER="brczero"
CURDIR=`dirname $0`
HOME_SERVER=$CURDIR/"_cache_evm"

set -e
set -o errexit
set -a
set -m


killbyname() {
  NAME=$1
  ps -ef|grep "$NAME"|grep -v grep |awk '{print "kill -9 "$2", "$8}'
  ps -ef|grep "$NAME"|grep -v grep |awk '{print "kill -9 "$2}' | sh
  echo "All <$NAME> killed!"
}


run() {
    LOG_LEVEL=main:info,iavl:info,*:error,state:info,provider:info
#--mempool.enable_delete_min_gp_tx false \
#    brczerod start --pruning=nothing --rpc.unsafe \
    nohup brczerod start --rpc.unsafe \
      --local-rpc-port 26657 \
      --log_level $LOG_LEVEL \
      --log_file json \
      --dynamic-gp-mode=2 \
      --consensus.timeout_commit 4000ms \
      --consensus.create_empty_blocks=false \
      --consensus.start_btc_height=788040 \
      --mempool.zero_data_url="http://localhost:3000/v1" \
      --mempool.fast_sync_height_gap=10 \
      --tree-enable-async-commit=false \
      --enable-gid \
      --fast-query=false \
      --append-pid=true \
      --iavl-output-modules evm=0,acc=0 \
      --commit-gap-height 3 \
      --pruning=nothing \
      --trie.dirty-disabled=true \
      --trace --home $HOME_SERVER --chain-id $CHAINID \
      --elapsed Round=1,CommitRound=1,Produce=1 \
      --rest.laddr "tcp://0.0.0.0:8545" > brc10.txt 2>&1 &

# --iavl-commit-interval-height \
# --iavl-enable-async-commit \
#      --iavl-cache-size int                              Max size of iavl cache (default 1000000)
#      --iavl-commit-interval-height int                  Max interval to commit node cache into leveldb (default 100)
#      --iavl-debug int                                   Enable iavl project debug
#      --iavl-enable-async-commit                         Enable async commit
#      --iavl-enable-pruning-history-state                Enable pruning history state
#      --iavl-height-orphans-cache-size int               Max orphan version to cache in memory (default 8)
#      --iavl-max-committed-height-num int                Max committed version to cache in memory (default 8)
#      --iavl-min-commit-item-count int                   Min nodes num to triggle node cache commit (default 500000)
#      --iavl-output-modules

}


killbyname brczerod
killbyname brczerocli

set -x # activate debugging

# run

# remove existing daemon and client
rm -rf ~/.brczero*
rm -rf $HOME_SERVER

(cd .. && make install)

# Set up config for CLI
brczerocli config chain-id $CHAINID
brczerocli config output json
brczerocli config indent true
brczerocli config trust-node true
brczerocli config keyring-backend test

# if $KEY exists it should be deleted
#
#    "eth_address": "0xbbE4733d85bc2b90682147779DA49caB38C0aA1F",
#     prikey: 8ff3ca2d9985c3a52b459e2f6e7822b23e1af845961e22128d5f372fb9aa5f17
brczerocli keys add --recover captain -m "puzzle glide follow cruel say burst deliver wild tragic galaxy lumber offer" -y

#    "eth_address": "0x83D83497431C2D3FEab296a9fba4e5FaDD2f7eD0",
brczerocli keys add --recover admin16 -m "palace cube bitter light woman side pave cereal donor bronze twice work" -y

brczerocli keys add --recover admin17 -m "antique onion adult slot sad dizzy sure among cement demise submit scare" -y

brczerocli keys add --recover admin18 -m "lazy cause kite fence gravity regret visa fuel tone clerk motor rent" -y

# Set moniker and chain-id for Ethermint (Moniker can be anything, chain-id must be an integer)
brczerod init $MONIKER --chain-id $CHAINID --home $HOME_SERVER

# Change parameter token denominations to brc10
cat $HOME_SERVER/config/genesis.json | jq '.app_state["staking"]["params"]["bond_denom"]="brc10"' > $HOME_SERVER/config/tmp_genesis.json && mv $HOME_SERVER/config/tmp_genesis.json $HOME_SERVER/config/genesis.json
cat $HOME_SERVER/config/genesis.json | jq '.app_state["crisis"]["constant_fee"]["denom"]="brc10"' > $HOME_SERVER/config/tmp_genesis.json && mv $HOME_SERVER/config/tmp_genesis.json $HOME_SERVER/config/genesis.json
cat $HOME_SERVER/config/genesis.json | jq '.app_state["gov"]["deposit_params"]["min_deposit"][0]["denom"]="brc10"' > $HOME_SERVER/config/tmp_genesis.json && mv $HOME_SERVER/config/tmp_genesis.json $HOME_SERVER/config/genesis.json
cat $HOME_SERVER/config/genesis.json | jq '.app_state["mint"]["params"]["mint_denom"]="brc10"' > $HOME_SERVER/config/tmp_genesis.json && mv $HOME_SERVER/config/tmp_genesis.json $HOME_SERVER/config/genesis.json

# Enable EVM

if [ "$(uname -s)" == "Darwin" ]; then
    sed -i "" 's/"enable_call": false/"enable_call": true/' $HOME_SERVER/config/genesis.json
    sed -i "" 's/"enable_create": false/"enable_create": true/' $HOME_SERVER/config/genesis.json
    sed -i "" 's/"enable_contract_blocked_list": false/"enable_contract_blocked_list": true/' $HOME_SERVER/config/genesis.json
else
    sed -i 's/"enable_call": false/"enable_call": true/' $HOME_SERVER/config/genesis.json
    sed -i 's/"enable_create": false/"enable_create": true/' $HOME_SERVER/config/genesis.json
    sed -i 's/"enable_contract_blocked_list": false/"enable_contract_blocked_list": true/' $HOME_SERVER/config/genesis.json
fi

# Allocate genesis accounts (cosmos formatted addresses)
brczerod add-genesis-account $(brczerocli keys show $KEY    -a) 100000000brc10 --home $HOME_SERVER
brczerod add-genesis-account $(brczerocli keys show admin16 -a) 900000000brc10 --home $HOME_SERVER
brczerod add-genesis-account $(brczerocli keys show admin17 -a) 900000000brc10 --home $HOME_SERVER
brczerod add-genesis-account $(brczerocli keys show admin18 -a) 900000000brc10 --home $HOME_SERVER

# Sign genesis transaction
brczerod gentx --name $KEY --keyring-backend test --home $HOME_SERVER

brczerod geninscription \
  --inscription "{\"d\":\"608060405234801561001057600080fd5b506161b4806100206000396000f3fe60806040523480156200001157600080fd5b5060043610620000ab5760003560e01c8063caf032e5116200006e578063caf032e5146200018f578063ccaf8a9514620001b5578063d57dc25314620001db578063de8d1f8414620001e5578063ef01df4f146200020b57600080fd5b80637b9d878e14620000b05780637dc5dea71462000104578063888de4f0146200012a5780638a689e8f1462000150578063b0586ada1462000176575b600080fd5b620000e7620000c1366004620040d4565b80516020818301810180516000825292820191909301209152546001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6200011b62000115366004620040d4565b6200021f565b604051620000fb919062004198565b620001416200013b366004620041fe565b62000611565b604051620000fb9190620042c8565b620001676200016136600462004358565b6200088e565b604051620000fb9190620043c3565b6200018d6200018736600462004358565b62000a4f565b005b620001a6620001a0366004620043d8565b62000af7565b604051620000fb919062004421565b620001cc620001c6366004620040d4565b62000bc8565b604051620000fb919062004436565b620000e761100081565b620001fc620001f6366004620040d4565b62000bdd565b604051620000fb91906200444b565b600154620000e7906001600160a01b031681565b60606000600483604051620002359190620044a4565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015620003195783829060005260206000200180546200028590620044c2565b80601f0160208091040260200160405190810160405280929190818152602001828054620002b390620044c2565b8015620003045780601f10620002d85761010080835404028352916020019162000304565b820191906000526020600020905b815481529060010190602001808311620002e657829003601f168201915b50505050508152602001906001019062000263565b50505050905080516000036200038157604080516000808252602082019092529062000379565b6200036560405180606001604052806060815260200160008152602001600081525090565b815260200190600190039081620003405790505b509392505050565b6000815167ffffffffffffffff811115620003a057620003a062004003565b604051908082528060200260200182016040528015620003f857816020015b620003e460405180606001604052806060815260200160008152602001600081525090565b815260200190600190039081620003bf5790505b50905060005b82518110156200037957600062000431848381518110620004235762000423620044f8565b602002602001015162000ce0565b905060006001600160a01b0316600082604051620004509190620044a4565b908152604051908190036020019020546001600160a01b031603620004885760405163767ee0c960e11b815260040160405180910390fd5b600080826040516200049b9190620044a4565b908152604051908190036020018120546335ee5f8760e01b82526001600160a01b0316906335ee5f8790620004d5908a9060040162004421565b602060405180830381865afa158015620004f3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200051991906200450e565b905060405180606001604052808685815181106200053b576200053b620044f8565b60200260200101518152602001828152602001600084604051620005609190620044a4565b908152604080516020928190038301812054637a27fb8960e11b825291516001600160a01b039092169263f44ff712926004808401938290030181865afa158015620005b0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620005d691906200450e565b815250848481518110620005ee57620005ee620044f8565b60200260200101819052505050808062000608906200453e565b915050620003fe565b6200063d6040518060800160405280606081526020016000815260200160008152602001600081525090565b60008062000652858560028054905062000cef565b91509150808203620006d0576040805160006080820181815260a08301909352909182916200069a565b6200068662003f3a565b8152602001906001900390816200067c5790505b50815260208101879052604001601e8611620006b75785620006ba565b601e5b8152600254602090910152925062000888915050565b6000620006de83836200455a565b67ffffffffffffffff811115620006f957620006f962004003565b6040519080825280602002602001820160405280156200073657816020015b6200072262003f3a565b815260200190600190039081620007185790505b509050825b82811015620008465760006200080160028381548110620007605762000760620044f8565b9060005260206000200180546200077790620044c2565b80601f0160208091040260200160405190810160405280929190818152602001828054620007a590620044c2565b8015620007f65780601f10620007ca57610100808354040283529160200191620007f6565b820191906000526020600020905b815481529060010190602001808311620007d857829003601f168201915b505050505062000d60565b905080836200081187856200455a565b81518110620008245762000824620044f8565b60200260200101819052505080806200083d906200453e565b9150506200073b565b5060006040518060800160405280838152602001888152602001601e60ff16881162000873578762000876565b601e5b81526002546020909101529450505050505b92915050565b620008b360405180606001604052806060815260200160008152602001600081525090565b6000620008c08362000ce0565b905060006001600160a01b0316600082604051620008df9190620044a4565b908152604051908190036020019020546001600160a01b031603620009175760405163767ee0c960e11b815260040160405180910390fd5b60405180606001604052808481526020016000836040516200093a9190620044a4565b908152604051908190036020018120546335ee5f8760e01b82526001600160a01b0316906335ee5f87906200097490899060040162004421565b602060405180830381865afa15801562000992573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620009b891906200450e565b8152602001600083604051620009cf9190620044a4565b908152604080516020928190038301812054637a27fb8960e11b825291516001600160a01b039092169263f44ff712926004808401938290030181865afa15801562000a1f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000a4591906200450e565b9052949350505050565b600062000a5c8262001287565b9050600081600281111562000a755762000a7562004570565b0362000a8c5762000a8782846200144e565b505050565b600181600281111562000aa35762000aa362004570565b0362000ab55762000a878284620015d1565b600281600281111562000acc5762000acc62004570565b0362000ade5762000a8782846200172e565b604051631cc6a69960e11b815260040160405180910390fd5b8151602081840181018051600482529282019185019190912091905280548290811062000b2357600080fd5b9060005260206000200160009150915050805462000b4190620044c2565b80601f016020809104026020016040519081016040528092919081815260200182805462000b6f90620044c2565b801562000bc05780601f1062000b945761010080835404028352916020019162000bc0565b820191906000526020600020905b81548152906001019060200180831162000ba257829003601f168201915b505050505081565b62000bd262003f3a565b620008888262000d60565b606060048260405162000bf19190620044a4565b9081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b8282101562000cd557838290600052602060002001805462000c4190620044c2565b80601f016020809104026020016040519081016040528092919081815260200182805462000c6f90620044c2565b801562000cc05780601f1062000c945761010080835404028352916020019162000cc0565b820191906000526020600020905b81548152906001019060200180831162000ca257829003601f168201915b50505050508152602001906001019062000c1f565b505050509050919050565b60606200088882600062001ab4565b600080601e84111562000d0157601e93505b60008462000d116001886200455a565b62000d1d919062004586565b9050600062000d2d868862004586565b905084821062000d465760008093509350505062000d58565b8481111562000d525750835b90925090505b935093915050565b62000d6a62003f3a565b600062000d778362000ce0565b905060006001600160a01b031660008260405162000d969190620044a4565b908152604051908190036020019020546001600160a01b03160362000dce5760405163767ee0c960e11b815260040160405180910390fd5b60405180610140016040528084815260200160008360405162000df29190620044a4565b90815260408051602092819003830181205463d5abeb0160e01b825291516001600160a01b039092169263d5abeb01926004808401938290030181865afa15801562000e42573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000e6891906200450e565b815260200160008360405162000e7f9190620044a4565b90815260408051602092819003830181205463e2ce9f5160e01b825291516001600160a01b039092169263e2ce9f51926004808401938290030181865afa15801562000ecf573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000ef591906200450e565b815260200160008360405162000f0c9190620044a4565b9081526040805160209281900383018120546318160ddd60e01b825291516001600160a01b03909216926318160ddd926004808401938290030181865afa15801562000f5c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062000f8291906200450e565b815260200160008360405162000f999190620044a4565b90815260408051602092819003830181205463313ce56760e01b825291516001600160a01b039092169263313ce567926004808401938290030181865afa15801562000fe9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200100f9190620045a0565b60ff168152602001600083604051620010299190620044a4565b90815260408051918290036020018220546302d05d3f60e01b835290516001600160a01b03909116916302d05d3f9160048083019260009291908290030181865afa1580156200107d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052620010a79190810190620045c5565b8152602001600083604051620010be9190620044a4565b9081526040805160209281900383018120546349a59f1760e01b825291516001600160a01b03909216926349a59f17926004808401938290030181865afa1580156200110e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200113491906200450e565b81526020016000836040516200114b9190620044a4565b908152604080516020928190038301812054637a27fb8960e11b825291516001600160a01b039092169263f44ff712926004808401938290030181865afa1580156200119b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620011c191906200450e565b8152602001600083604051620011d89190620044a4565b908152604080516020928190038301812054632458a8b360e11b825291516001600160a01b03909216926348b15166926004808401938290030181865afa15801562001228573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200124e91906200450e565b8152602001600083604051620012659190620044a4565b908152604051908190036020019020546001600160a01b031690529392505050565b600080620012958362001b20565b9050620012a28162001b42565b620012c0576040516332fb134d60e01b815260040160405180910390fd5b620012fd620012f5604051806040016040528060048152602001631137b81160e11b8152508362001cca90919063ffffffff16565b516007161590565b156200131c57604051636d2a509960e01b815260040160405180910390fd5b60006200135962001353604051806040016040528060048152602001631137b81160e11b8152508462001cca90919063ffffffff16565b62001d38565b90506200139060405180604001604052806008815260200167113232b83637bc9160c11b8152508262001d4990919063ffffffff16565b15620013a0575060009392505050565b6040805180820190915260068152651136b4b73a1160d11b6020918201528151908201207f62835bcd00b03e3ef73ae1d4692b0dcd3f584f248069fc1e9f798e8d4ccd942903620013f5575060019392505050565b60408051808201909152600a815269113a3930b739b332b91160b11b6020918201528151908201207f881ee0ffe6c7d624f7808a070e79642d0ae2df235367ac426bca9767d23b082f0362000ade575060029392505050565b60006200145b8362001d5f565b905060006200146a83620021ca565b905060006200147d836000015162000ce0565b905060006001600160a01b03166000826040516200149c9190620044a4565b908152604051908190036020019020546001600160a01b031614620014d45760405163166d3fb760e11b815260040160405180910390fd5b6000836000015184602001518560400151866060015186602001518760400151886000015189606001518a60800151604051620015119062003f9c565b620015259998979695949392919062004645565b604051809103906000f08015801562001542573d6000803e3d6000fd5b50905080600083604051620015589190620044a4565b90815260405190819003602001902080546001600160a01b03929092166001600160a01b03199092169190911790558351600280546001810182556000919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0190620015c8908262004709565b50505050505050565b6000620015e8620015e284620025f1565b62000ce0565b905060008082604051620015fd9190620044a4565b908152604051908190036020019020546001600160a01b0316905080620016375760405163767ee0c960e11b815260040160405180910390fd5b6000816001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa15801562001678573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200169e9190620045a0565b90506000620016af86868462002693565b604051632d03e20760e21b81529091506001600160a01b0384169063b40f881c90620016e09084906004016200483b565b600060405180830381600087803b158015620016fb57600080fd5b505af115801562001710573d6000803e3d6000fd5b505050604082015182516200172692506200297b565b505050505050565b60006200173f620015e284620025f1565b905060008082604051620017549190620044a4565b908152604051908190036020019020546001600160a01b03169050806200178e5760405163767ee0c960e11b815260040160405180910390fd5b6000816001600160a01b031663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa158015620017cf573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620017f59190620045a0565b90506000620018048662002a87565b90506000806110006001600160a01b03168360405160240162001828919062004421565b60408051601f198184030181529181526020820180516001600160e01b03166306eeb23d60e41b179052516200185f9190620044a4565b6000604051808303816000865af19150503d80600081146200189e576040519150601f19603f3d011682016040523d82523d6000602084013e620018a3565b606091505b50915091508115620018f2578360ff1681806020019051810190620018c99190620045a0565b60ff161115620018ec576040516328f5e86560e21b815260040160405180910390fd5b6200190b565b60405163461b595360e11b815260040160405180910390fd5b60006200191a89898762002c71565b60405163930a074160e01b81529091506001600160a01b0387169063930a0741906200194b9084906004016200483b565b600060405180830381600087803b1580156200196657600080fd5b505af11580156200197b573d6000803e3d6000fd5b5050505060208101516040516335ee5f8760e01b81526000916001600160a01b038916916335ee5f8791620019b39160040162004421565b602060405180830381865afa158015620019d1573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620019f791906200450e565b90508060000362001a125762001a1282602001518962002d57565b60408083015190516335ee5f8760e01b81526000916001600160a01b038a16916335ee5f879162001a469160040162004421565b602060405180830381865afa15801562001a64573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001a8a91906200450e565b9050801562001aa75762001aa7836040015184600001516200297b565b5050505050505050505050565b60608251801562001b195760206040510191506001840193506303ffffff8360051b6046011b600019825b81018681015160ff1683811c602016811886830153508062001adf5750505060405191508082528060208301016000815260208101604052505b5092915050565b604080516000808252918190529062001b3b8360ff62002ff3565b9392505050565b60008062001b508362003847565b905060008167ffffffffffffffff81111562001b705762001b7062004003565b60405190808252806020026020018201604052801562001b9a578160200160208202803683370190505b509050600062001baa8562003860565b905060005b8381101562001c1e5762001bdf82828151811062001bd15762001bd1620044f8565b60200260200101516200386f565b8051906020012060001c83828151811062001bfe5762001bfe620044f8565b60209081029190910101528062001c15816200453e565b91505062001baf565b5060005b8381101562001cbe57600062001c3a82600162004850565b90505b8481101562001ca85783818151811062001c5b5762001c5b620044f8565b602002602001015184838151811062001c785762001c78620044f8565b60200260200101510362001c93575060009695505050505050565b8062001c9f816200453e565b91505062001c3d565b508062001cb5816200453e565b91505062001c22565b50600195945050505050565b604080516000815290528151606090600716600203620008885781516020830120600062001cf88562003860565b805190915060051b5b801562001d2f57818101519550601f19018262001d1e876200386f565b805190602001200362001d01578593505b50505092915050565b6060600062001b3b83600062002ff3565b8051602091820120825192909101919091201490565b62001d8e6040518060800160405280606081526020016000815260200160008152602001600060ff1681525090565b600062001d9b8362001b20565b905062001dd4620012f560405180604001604052806006815260200165113a34b1b59160d11b8152508362001cca90919063ffffffff16565b1562001df357604051631156adb160e21b815260040160405180910390fd5b62001e29620012f5604051806040016040528060058152602001641136b0bc1160d91b8152508362001cca90919063ffffffff16565b1562001e48576040516304af937b60e31b815260040160405180910390fd5b62001e7e620012f560405180604001604052806005815260200164113634b69160d91b8152508362001cca90919063ffffffff16565b1562001e9d5760405163699be87360e01b815260040160405180910390fd5b62001edd62001ed762001353604051806040016040528060058152602001641136b0bc1160d91b8152508462001cca90919063ffffffff16565b62003891565b5160000362001eff57604051633f58b5c360e01b815260040160405180910390fd5b62001f5e604051806040016040528060018152602001602d60f81b81525062001f5762001ed762001353604051806040016040528060058152602001641136b0bc1160d91b8152508662001cca90919063ffffffff16565b9062003b44565b1562001f7d5760405163597f033b60e01b815260040160405180910390fd5b62001fb762001ed76200135360405180604001604052806005815260200164113634b69160d91b8152508462001cca90919063ffffffff16565b5160000362001fd95760405163a83a466b60e01b815260040160405180910390fd5b62002031604051806040016040528060018152602001602d60f81b81525062001f5762001ed76200135360405180604001604052806005815260200164113634b69160d91b8152508662001cca90919063ffffffff16565b156200205057604051636a60e22360e11b815260040160405180910390fd5b600062002088620012f560405180604001604052806005815260200164113232b19160d91b8152508462001cca90919063ffffffff16565b1562002096576012620020e0565b620020e0620020da620020d46200135360405180604001604052806005815260200164113232b19160d91b8152508662001cca90919063ffffffff16565b62003b5e565b62003c60565b905060405180608001604052806200212862001ed76200135360405180604001604052806006815260200165113a34b1b59160d11b8152508762001cca90919063ffffffff16565b8152602001620021728360ff166200216b62001353604051806040016040528060058152602001641136b0bc1160d91b8152508862001cca90919063ffffffff16565b9062003c7a565b8152602001620021b58360ff166200216b6200135360405180604001604052806005815260200164113634b69160d91b8152508862001cca90919063ffffffff16565b81526020018260ff1681525092505050919050565b6200220a6040518060c001604052806000801916815260200160608152602001606081526020016000815260200160008152602001600080191681525090565b6000620022178362001b20565b905062002250620012f560405180604001604052806006815260200165113a3c34b21160d11b8152508362001cca90919063ffffffff16565b156200226f5760405163d72e417960e01b815260040160405180910390fd5b620022a8620012f5604051806040016040528060088152602001671139b2b73232b91160c11b8152508362001cca90919063ffffffff16565b15620022c75760405163418163a760e01b815260040160405180910390fd5b62002302620012f56040518060400160405280600a815260200169113932b1b2b4bb32b91160b11b8152508362001cca90919063ffffffff16565b1562002321576040516307d5348b60e51b815260040160405180910390fd5b62002360620012f56040518060400160405280600e81526020016d11313637b1b5afb432b4b3b43a1160911b8152508362001cca90919063ffffffff16565b156200237f5760405163313897b560e11b815260040160405180910390fd5b620023bc620012f56040518060400160405280600c81526020016b11313637b1b5afba34b6b29160a11b8152508362001cca90919063ffffffff16565b15620023db5760405163178f4b8b60e31b815260040160405180910390fd5b62002418620012f56040518060400160405280600c81526020016b11313637b1b5afb430b9b41160a11b8152508362001cca90919063ffffffff16565b1562002437576040516334880f0f60e11b815260040160405180910390fd5b6040518060c00160405280620024876200248162001ed76200135360405180604001604052806006815260200165113a3c34b21160d11b8152508762001cca90919063ffffffff16565b62003db5565b60001b8152602001620024cc62001ed762001353604051806040016040528060088152602001671139b2b73232b91160c11b8152508662001cca90919063ffffffff16565b81526020016200251062001ed7620013536040518060400160405280600a815260200169113932b1b2b4bb32b91160b11b8152508662001cca90919063ffffffff16565b815260200162002558620020d4620013536040518060400160405280600e81526020016d11313637b1b5afb432b4b3b43a1160911b8152508662001cca90919063ffffffff16565b81526020016200259e620020d4620013536040518060400160405280600c81526020016b11313637b1b5afba34b6b29160a11b8152508662001cca90919063ffffffff16565b8152602001620025e86200248162001ed7620013536040518060400160405280600c81526020016b11313637b1b5afb430b9b41160a11b8152508762001cca90919063ffffffff16565b90529392505050565b60606000620026008362001b20565b905062002639620012f560405180604001604052806006815260200165113a34b1b59160d11b8152508362001cca90919063ffffffff16565b156200265857604051631156adb160e21b815260040160405180910390fd5b62001b3b62001ed76200135360405180604001604052806006815260200165113a34b1b59160d11b8152508462001cca90919063ffffffff16565b620026bf6040518060800160405280606081526020016060815260200160608152602001600081525090565b6000620026cc8562001b20565b905062002705620012f560405180604001604052806006815260200165113a34b1b59160d11b8152508362001cca90919063ffffffff16565b156200272457604051631156adb160e21b815260040160405180910390fd5b6200275a620012f5604051806040016040528060058152602001641130b6ba1160d91b8152508362001cca90919063ffffffff16565b156200277957604051632b8f603360e01b815260040160405180910390fd5b620027b362001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508462001cca90919063ffffffff16565b51600003620027d557604051635e575fc960e11b815260040160405180910390fd5b6200282d604051806040016040528060018152602001600b60fa1b81525062001f5762001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508662001cca90919063ffffffff16565b156200284c5760405163d3846a6d60e01b815260040160405180910390fd5b620028a4604051806040016040528060018152602001602d60f81b81525062001f5762001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508662001cca90919063ffffffff16565b15620028c3576040516313aadfe760e31b815260040160405180910390fd5b6000620028d085620021ca565b905060405180608001604052806200291862001ed76200135360405180604001604052806006815260200165113a34b1b59160d11b8152508762001cca90919063ffffffff16565b815260200182602001518152602001826040015181526020016200296f8660ff166200216b62001353604051806040016040528060058152602001641130b6ba1160d91b8152508862001cca90919063ffffffff16565b90529695505050505050565b6000620029888262000ce0565b90506003836040516200299c9190620044a4565b908152602001604051809103902081604051620029ba9190620044a4565b90815260200160405180910390205460000362000a8757600483604051620029e39190620044a4565b9081526040519081900360200190205462002a0090600162004850565b60038460405162002a129190620044a4565b90815260200160405180910390208260405162002a309190620044a4565b90815260200160405180910390208190555060048360405162002a549190620044a4565b90815260405160209181900382019020805460018101825560009182529190200162002a81838262004709565b50505050565b6060600062002a968362001b20565b905062002ace620012f5604051806040016040528060058152602001641130b6ba1160d91b8152508362001cca90919063ffffffff16565b1562002aed57604051632b8f603360e01b815260040160405180910390fd5b62002b2762001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508462001cca90919063ffffffff16565b5160000362002b4957604051635e575fc960e11b815260040160405180910390fd5b62002ba1604051806040016040528060018152602001600b60fa1b81525062001f5762001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508662001cca90919063ffffffff16565b1562002bc05760405163d3846a6d60e01b815260040160405180910390fd5b62002c18604051806040016040528060018152602001602d60f81b81525062001f5762001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508662001cca90919063ffffffff16565b1562002c37576040516313aadfe760e31b815260040160405180910390fd5b62001b3b62001ed762001353604051806040016040528060058152602001641130b6ba1160d91b8152508462001cca90919063ffffffff16565b62002c9d6040518060800160405280606081526020016060815260200160608152602001600081525090565b600062002caa8562001b20565b905062002ce3620012f560405180604001604052806006815260200165113a34b1b59160d11b8152508362001cca90919063ffffffff16565b1562002d0257604051631156adb160e21b815260040160405180910390fd5b62002d38620012f5604051806040016040528060058152602001641130b6ba1160d91b8152508362001cca90919063ffffffff16565b15620028c357604051632b8f603360e01b815260040160405180910390fd5b600060038360405162002d6b9190620044a4565b90815260200160405180910390208260405162002d899190620044a4565b90815260200160405180910390205490508060001462000a8757600060048460405162002db79190620044a4565b90815260405190819003602001902054905081811462002f5957600060048560405162002de59190620044a4565b90815260405190819003602001902062002e016001846200455a565b8154811062002e145762002e14620044f8565b90600052602060002001805462002e2b90620044c2565b80601f016020809104026020016040519081016040528092919081815260200182805462002e5990620044c2565b801562002eaa5780601f1062002e7e5761010080835404028352916020019162002eaa565b820191906000526020600020905b81548152906001019060200180831162002e8c57829003601f168201915b505050505090508060048660405162002ec49190620044a4565b90815260405190819003602001902062002ee06001866200455a565b8154811062002ef35762002ef3620044f8565b90600052602060002001908162002f0b919062004709565b508260038660405162002f1f9190620044a4565b908152602001604051809103902062002f388362000ce0565b60405162002f479190620044a4565b90815260405190819003602001902055505b60048460405162002f6b9190620044a4565b908152602001604051809103902080548062002f8b5762002f8b62004866565b60019003818190600052602060002001600062002fa9919062003faa565b905560038460405162002fbd9190620044a4565b90815260200160405180910390208360405162002fdb9190620044a4565b90815260200160405180910390206000905550505050565b600062003794565b63101827966000526004601cfd5b805b60016401000026006200301f835160001a90565b1c161562000888576001016200300b565b63ffffffff83113d3d3e63ffffffff821b191691901b1790565b6040516200307084860360786200306a601f198689030160588862003030565b62003030565b959095178552505050602082016040525090565b6000806200309784601860005162003030565b620030a3878762003009565b9150868210620030b45750620031fa565b815160001a60228103620030ec5782620030d18985858962003447565b9350620030e360048583868a6200304a565b945050620031e9565b605b81036200310d57620031038884848862003203565b93509350620031e9565b607b810362003124576200310388848488620032e3565b6703ff200000000000811c600116156200314657620031038884848862003531565b876004840111620031a85782835160e01c6374727565810362003183576004850194506200317960058684878b6200304a565b95505050620031e9565b636e756c6c8103620031a5576004850194506200317960068684878b6200304a565b50505b876005840111620031df5782835160d81c6466616c73658103620031dc576005850194506200317960058684878b6200304a565b50505b620031e962002ffb565b5050620031f7868262003009565b90505b94509492505050565b600060018401815b8682106200321d576200321d62002ffb565b8262003246576200322f878362003009565b9150605d6200323f835160001a90565b14620032b4575b620032548783858762003084565b925092508215620032a45762003271816098855160401762003030565b835260010162003282825160001a90565b605d8103620032925750620032b4565b602c8103620032a25750620032a8565b505b8691505b6001820191506200320b565b50600101620032c68260388662003030565b9350620032d86001828787876200304a565b915094509492505050565b6000600184015b858110620032fc57620032fc62002ffb565b8162003325576200330e868262003009565b9050607d6200331e825160001a90565b14620033dc575b62003331868262003009565b905080620033428783858762003447565b6200334e888262003009565b9250603a6200335e845160001a90565b03620033cd57620033758860018501868862003084565b935093508315620033cd57620033a060208601830360986200306a85850360b8895160801762003030565b8452825160001a607d8103620033b957505050620033dc565b602c8103620033cb57505050620033d3565b505b50508590505b600101620032ea565b600101620033ed8260388662003030565b9350620032d86002828787876200304a565b6001667e0000007e03ff6030620034198585015160001a90565b031c166200342b576200342b62002ffb565b600582146200344357620034436001830182620033ff565b5050565b505060008282106200345d576200345d62002ffb565b50600181015b805160001a60228103620034785750620034de565b605c81146200348b575060010162003463565b600182015160001a905060016a0510110400000000002001602283031c1615620034b9575060020162003463565b60758103620034d957620034cf600283620033ff565b5060060162003463565b508290505b828110620034f057620034f062002ffb565b60010192915050565b805b600a60306200350b835160001a90565b0310156200351c57600101620034fb565b80821484161562001b3b5762001b3b62002ffb565b600083602d62003542825160001a90565b036200354c576001015b600a60306200355c835160001a90565b03106200356d576200356d62002ffb565b805160001a6001820191506030811462003592576200358f60008884620034f9565b91505b50602e620035a1825160001a90565b03620035bb57620035b860018760018401620034f9565b90505b805160658160001a60201703620035ed57620035ea6001886001850162010001600e8660011a031a01620034f9565b91505b50620032d86003828787876200304a565b60405190820190601f19601f850181165b83810151838201528101806200360f5750508381526000846020830101528360408201016040529392505050565b8483620035fe565b50919050565b80516060906002816007161162003645578215811517620036455760208116156200368357603881901c63ffffffff16915062003645565b604051915060208201603882901c63ffffffff165b8015620036ce578082528051601881901c63ffffffff16620036bd8760188462003030565b909252506020919091019062003698565b50601f1983820381018060051c855282604052620036ef8560388662003030565b93508360201786526040811062003724576020850192508085015b835181518552815260209093019282018084106200370a57505b50505050919050565b80516060908215811517156200374457506200378c565b80841c63ffffffff1691508086166200378a5760d881901c63ffffffff166200377582871c63ffffffff166200363d565b9250506200378582858362003030565b861783525b505b949350505050565b8180156200381257600181146200382b57600381146200383c576020840184518101808214620037f457805160001a60228253620037d98760d8601160f91b62003030565b600052620037eb828460008a62003084565b93509450808253505b831581831017156200380a576200380a62002ffb565b505062001b19565b62003823601060786058876200372d565b915062001b19565b62003823600860b86098876200372d565b6200378c846200364b565b60008062003858835b600362002ff3565b519392505050565b6060600062001b3b8362003850565b8051606090608016156200388c57600062001b3b83600162002ff3565b919050565b606062003a09565b60008060048301905083811115835160005b60048114620038fa57603082821a0383667e0000007e03ff821c16620038d557620038d562002ffb565b6030811160051b6007601083110201900360049590951b9490940193600101620038ab565b5050509250929050565b60008062003913848462003899565b9150915061dbff821161d8008310176200395f578051615c758160f01c148502945062003944856002840162003899565b92509050806103ff16836103ff16600a1b0162010000019250505b9250929050565b6000607f83116200397f57828253506001810162000888565b82601f538260061c601e536107ff8311620039b057600051611f3f1661c0801760f01b825260028201905062000888565b82600c1c601d5361ffff8311620039df57600051620f3f3f1662e080801760e81b825260038201905062000888565b8260121c601c535060005163073f3f3f1663f08080801760e01b81526211000090911060021b0190565b8151808301601f01805160001a600285015161ff00161761222214600183111662003a385762003a3862002ffb565b6020604051019150602184015b81811462003b2457805160001a600182019150605c811462003a7e576022811462003a7a578084536001840193505062003a45565b8291505b5081811462003b1a57805160001a6001918201916b100000000000800400000000821c161562003ab8578084536001840193505062003a45565b6075810362003ae65762003acd838362003904565b9250905062003add818562003966565b93505062003a45565b72080000000c000000000000000a0000000d00096054199091011a801562003b18578084536001840193505062003a45565b505b62003b2462002ffb565b505060008152604051915060208201810382526020810160405250919050565b600060001962003b55848462003e3c565b14159392505050565b6000818180805b835181101562003c5657603084828151811062003b865762003b86620044f8565b016020015160f81c1080159062003bba5750603984828151811062003baf5762003baf620044f8565b016020015160f81c11155b1562003c17578162003c565762003bd3600a8462004586565b9250603084828151811062003bec5762003bec620044f8565b016020015162003c00919060f81c6200487c565b62003c0f9060ff168462004850565b925062003c41565b83818151811062003c2c5762003c2c620044f8565b016020015160f81c602e0362003c4157600191505b8062003c4d816200453e565b91505062003b65565b5090949350505050565b6000610100821062003c765762003c7662003e4c565b5090565b6000828180805b835181101562003d8a57603084828151811062003ca25762003ca2620044f8565b016020015160f81c1080159062003cd65750603984828151811062003ccb5762003ccb620044f8565b016020015160f81c11155b1562003d4b57811562003cfa57851562003d8a578562003cf68162004898565b9650505b62003d07600a8462004586565b9250603084828151811062003d205762003d20620044f8565b016020015162003d34919060f81c6200487c565b62003d439060ff168462004850565b925062003d75565b83818151811062003d605762003d60620044f8565b016020015160f81c602e0362003d7557600191505b8062003d81816200453e565b91505062003c81565b5084156200378a5762003d9f85600a620049af565b62003dab908362004586565b9695505050505050565b600081516001811160208085015160f01c17613078141660011b5b6001810190507403010a071000000b0104040208000c05090d060e0f6d03e4088843e41bac00000000000060ff83870151161c601f161a8360fc1c8115171583029250600181038460041b0193505081811062003dd0575080620036455763101827966000526004601cfd5b600062001b3b8383600062003e5a565b6335278d126000526004601cfd5b60008351835162003e7f5780831162003e765782915062000379565b80915062000379565b835160208601600019935084810196506001828483010301601f831660200360031b6020880151858810838b101662003ebd57505050505062000379565b6020851062003f08578460208a01205b818b5118831c62003eed5780868c200362003eed57848b03975062003efc565b60018b019a50838b1062003ecd575b50505050505062000379565b808a5118821c62003f1e57838a03965062003f2d565b60018a019950828a1062003f08575b5050505050509392505050565b60405180610140016040528060608152602001600081526020016000815260200160008152602001600060ff1681526020016060815260200160008019168152602001600081526020016000815260200160006001600160a01b031681525090565b6117c180620049be83390190565b50805462003fb890620044c2565b6000825580601f1062003fc9575050565b601f01602090049060005260206000209081019062003fe9919062003fec565b50565b5b8082111562003c76576000815560010162003fed565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171562004045576200404562004003565b604052919050565b600067ffffffffffffffff8211156200406a576200406a62004003565b50601f01601f191660200190565b600082601f8301126200408a57600080fd5b8135620040a16200409b826200404d565b62004019565b818152846020838601011115620040b757600080fd5b816020850160208301376000918101602001919091529392505050565b600060208284031215620040e757600080fd5b813567ffffffffffffffff811115620040ff57600080fd5b6200378c8482850162004078565b60005b838110156200412a57818101518382015260200162004110565b50506000910152565b600081518084526200414d8160208601602086016200410d565b601f01601f19169290920160200192915050565b600081516060845262004178606085018262004133565b905060208301516020850152604083015160408501528091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015620041f157603f19888603018452620041de85835162004161565b94509285019290850190600101620041bf565b5092979650505050505050565b600080604083850312156200421257600080fd5b50508035926020909101359150565b60006101408251818552620042398286018262004133565b91505060208301516020850152604083015160408501526060830151606085015260808301516200426f608086018260ff169052565b5060a083015184820360a086015262004289828262004133565b91505060c083015160c085015260e083015160e08501526101008084015181860152506101208084015162003c56828701826001600160a01b03169052565b6000602080835260a08301845160808386015281815180845260c08701915060c08160051b8801019350848301925060005b818110156200432c5760bf198886030183526200431985855162004221565b94509285019291850191600101620042fa565b505050508185015160408501526040850151606085015260608501516080850152809250505092915050565b600080604083850312156200436c57600080fd5b823567ffffffffffffffff808211156200438557600080fd5b620043938683870162004078565b93506020850135915080821115620043aa57600080fd5b50620043b98582860162004078565b9150509250929050565b60208152600062001b3b602083018462004161565b60008060408385031215620043ec57600080fd5b823567ffffffffffffffff8111156200440457600080fd5b620044128582860162004078565b95602094909401359450505050565b60208152600062001b3b602083018462004133565b60208152600062001b3b602083018462004221565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015620041f157603f198886030184526200449185835162004133565b9450928501929085019060010162004472565b60008251620044b88184602087016200410d565b9190910192915050565b600181811c90821680620044d757607f821691505b6020821081036200364557634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b6000602082840312156200452157600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b60006001820162004553576200455362004528565b5060010190565b8181038181111562000888576200088862004528565b634e487b7160e01b600052602160045260246000fd5b808202811582820484141762000888576200088862004528565b600060208284031215620045b357600080fd5b815160ff8116811462001b3b57600080fd5b600060208284031215620045d857600080fd5b815167ffffffffffffffff811115620045f057600080fd5b8201601f810184136200460257600080fd5b8051620046136200409b826200404d565b8181528560208385010111156200462957600080fd5b6200463c8260208301602086016200410d565b95945050505050565b60006101208083526200465b8184018d62004133565b90508a602084015289604084015260ff89166060840152828103608084015262004686818962004133565b905082810360a08401526200469c818862004133565b60c0840196909652505060e0810192909252610100909101529695505050505050565b601f82111562000a8757600081815260208120601f850160051c81016020861015620046e85750805b601f850160051c820191505b818110156200172657828155600101620046f4565b815167ffffffffffffffff81111562004726576200472662004003565b6200473e81620047378454620044c2565b84620046bf565b602080601f8311600181146200477657600084156200475d5750858301515b600019600386901b1c1916600185901b17855562001726565b600085815260208120601f198616915b82811015620047a75788860151825594840194600190910190840162004786565b5085821015620047c65787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b6000815160808452620047ed608085018262004133565b90506020830151848203602086015262004808828262004133565b9150506040830151848203604086015262004824828262004133565b915050606083015160608501528091505092915050565b60208152600062001b3b6020830184620047d6565b8082018082111562000888576200088862004528565b634e487b7160e01b600052603160045260246000fd5b60ff828116828216039081111562000888576200088862004528565b600081620048aa57620048aa62004528565b506000190190565b600181815b80851115620048f3578160001904821115620048d757620048d762004528565b80851615620048e557918102915b93841c9390800290620048b7565b509250929050565b6000826200490c5750600162000888565b816200491b5750600062000888565b81600181146200493457600281146200493f576200495f565b600191505062000888565b60ff84111562004953576200495362004528565b50506001821b62000888565b5060208310610133831016604e8410600b841016171562004984575081810a62000888565b620049908383620048b2565b8060001904821115620049a757620049a762004528565b029392505050565b600062001b3b8383620048fb56fe6101606040523480156200001257600080fd5b50604051620017c1380380620017c18339810160408190526200003591620003d7565b336101405260405160009081906110009062000056908d90602401620004da565b60408051601f198184030181529181526020820180516001600160e01b0316631991dacb60e11b179052516200008d9190620004f6565b6000604051808303816000865af19150503d8060008114620000cc576040519150601f19603f3d011682016040523d82523d6000602084013e620000d1565b606091505b50915091508115620001175780806020019051810190620000f3919062000514565b62000111576040516333a3bdff60e21b815260040160405180910390fd5b62000130565b60405163461b595360e11b815260040160405180910390fd5b6f0de0b6b3a763fffff21f494c589c00008a11156200016257604051630477910760e51b815260040160405180910390fd5b88600003620001845760405163689d52ab60e01b815260040160405180910390fd5b6f0de0b6b3a763fffff21f494c589c0000891115620001b6576040516320d76fbb60e11b815260040160405180910390fd5b60128860ff161115620001dc576040516375d1861760e01b815260040160405180910390fd5b6000620001ea8c82620005c7565b5060808a905260a089905260ff881660c05260016200020a8782620005c7565b508460e081815250508361010081815250508261012081815250507fd78fa2b8ff6af28134a187b873b5a243310284a2192d37de10fdc79679413e24604051806101400160405280604051806040016040528060068152602001656465706c6f7960d01b81525081526020018d81526020018c81526020018b8152602001600081526020018a60ff168152602001898152602001888152602001600115158152602001604051806040016040528060028152602001616f6b60f01b815250815250604051620002da919062000693565b60405180910390a150505050505050505050506200077e565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620003265781810151838201526020016200030c565b50506000910152565b600082601f8301126200034157600080fd5b81516001600160401b03808211156200035e576200035e620002f3565b604051601f8301601f19908116603f01168101908282118183101715620003895762000389620002f3565b81604052838152866020858801011115620003a357600080fd5b620003b684602083016020890162000309565b9695505050505050565b805160ff81168114620003d257600080fd5b919050565b60008060008060008060008060006101208a8c031215620003f757600080fd5b89516001600160401b03808211156200040f57600080fd5b6200041d8d838e016200032f565b9a5060208c0151995060408c015198506200043b60608d01620003c0565b975060808c01519150808211156200045257600080fd5b620004608d838e016200032f565b965060a08c01519150808211156200047757600080fd5b50620004868c828d016200032f565b94505060c08a0151925060e08a015191506101008a015190509295985092959850929598565b60008151808452620004c681602086016020860162000309565b601f01601f19169290920160200192915050565b602081526000620004ef6020830184620004ac565b9392505050565b600082516200050a81846020870162000309565b9190910192915050565b6000602082840312156200052757600080fd5b81518015158114620004ef57600080fd5b600181811c908216806200054d57607f821691505b6020821081036200056e57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620005c257600081815260208120601f850160051c810160208610156200059d5750805b601f850160051c820191505b81811015620005be57828155600101620005a9565b5050505b505050565b81516001600160401b03811115620005e357620005e3620002f3565b620005fb81620005f4845462000538565b8462000574565b602080601f8311600181146200063357600084156200061a5750858301515b600019600386901b1c1916600185901b178555620005be565b600085815260208120601f198616915b82811015620006645788860151825594840194600190910190840162000643565b5085821015620006835787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b6020815260008251610140806020850152620006b4610160850183620004ac565b91506020850151601f1980868503016040870152620006d48483620004ac565b93506040870151606087015260608701516080870152608087015160a087015260a087015191506200070b60c087018360ff169052565b60c08701519150808685030160e0870152620007288483620004ac565b935060e08701519150610100818786030181880152620007498584620004ac565b945080880151925050610120620007638188018415159052565b870151868503909101838701529050620003b68382620004ac565b60805160a05160c05160e051610100516101205161014051610f786200084960003960008181610225015281816104fa01526107d9015260006101ad015260006102d6015260006101d4015260008181610161015281816104c5015281816107540152610ab70152600081816102af0152818161049f0152818161072401528181610882015281816108ab0152610a8b01526000818161028801528181610479015281816106fe01528181610840015281816108df0152818161090e0152610a650152610f786000f3fe608060405234801561001057600080fd5b506004361061010b5760003560e01c80637fa2688a116100a2578063b4c1dd4111610071578063b4c1dd4114610272578063d57dc2531461027a578063d5abeb0114610283578063e2ce9f51146102aa578063f44ff712146102d157600080fd5b80637fa2688a1461012e578063930a07411461020b578063b0d691fe14610220578063b40f881c1461025f57600080fd5b806335ee5f87116100de57806335ee5f871461019557806348b15166146101a857806349a59f17146101cf5780635b1f1481146101f657600080fd5b806302d05d3f14610110578063114cccd21461012e57806318160ddd14610153578063313ce5671461015c575b600080fd5b6101186102f8565b6040516101259190610b90565b60405180910390f35b6101456f0de0b6b3a763fffff21f494c589c000081565b604051908152602001610125565b61014560025481565b6101837f000000000000000000000000000000000000000000000000000000000000000081565b60405160ff9091168152602001610125565b6101456101a3366004610c4d565b610386565b6101457f000000000000000000000000000000000000000000000000000000000000000081565b6101457f000000000000000000000000000000000000000000000000000000000000000081565b6101fe6103ae565b6040516101259190610c8a565b61021e610219366004610d8c565b6104ef565b005b6102477f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610125565b61021e61026d366004610d8c565b6107ce565b610118610b33565b61024761100081565b6101457f000000000000000000000000000000000000000000000000000000000000000081565b6101457f000000000000000000000000000000000000000000000000000000000000000081565b6101457f000000000000000000000000000000000000000000000000000000000000000081565b6001805461030590610dc1565b80601f016020809104026020016040519081016040528092919081815260200182805461033190610dc1565b801561037e5780601f106103535761010080835404028352916020019161037e565b820191906000526020600020905b81548152906001019060200180831161036157829003601f168201915b505050505081565b60006003826040516103989190610dfb565b9081526020016040518091039020549050919050565b6103dc6040518060800160405280606081526020016000815260200160008152602001600060ff1681525090565b6040518060800160405280600080546103f490610dc1565b80601f016020809104026020016040519081016040528092919081815260200182805461042090610dc1565b801561046d5780601f106104425761010080835404028352916020019161046d565b820191906000526020600020905b81548152906001019060200180831161045057829003601f168201915b505050505081526020017f000000000000000000000000000000000000000000000000000000000000000081526020017f000000000000000000000000000000000000000000000000000000000000000081526020017f000000000000000000000000000000000000000000000000000000000000000060ff16815250905090565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461053857604051632fe6450b60e11b815260040160405180910390fd5b806060015160000361055d5760405163feca61db60e01b815260040160405180910390fd5b8060600151600382602001516040516105769190610dfb565b90815260200160405180910390205410156105a457604051631e9acf1760e31b815260040160405180910390fd5b8060600151600382602001516040516105bd9190610dfb565b908152602001604051809103902060008282546105da9190610e2d565b9091555050606081015160408083015190516003916105f891610dfb565b908152602001604051809103902060008282546106159190610e46565b909155505060408051610180810190915260086101408201908152673a3930b739b332b960c11b6101608301528152600080547fd78fa2b8ff6af28134a187b873b5a243310284a2192d37de10fdc79679413e249291602083019161067990610dc1565b80601f01602080910402602001604051908101604052809291908181526020018280546106a590610dc1565b80156106f25780601f106106c7576101008083540402835291602001916106f2565b820191906000526020600020905b8154815290600101906020018083116106d557829003601f168201915b505050505081526020017f000000000000000000000000000000000000000000000000000000000000000081526020017f00000000000000000000000000000000000000000000000000000000000000008152602001836060015181526020017f000000000000000000000000000000000000000000000000000000000000000060ff1681526020018360200151815260200183604001518152602001600115158152602001604051806040016040528060028152602001616f6b60f01b8152508152506040516107c39190610e59565b60405180910390a150565b336001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000161461081757604051632fe6450b60e11b815260040160405180910390fd5b6060810151600081900361083e5760405163ce95fa5760e01b815260040160405180910390fd5b7f0000000000000000000000000000000000000000000000000000000000000000600254036108805760405163d05cb60960e01b815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000008111156108cb57507f00000000000000000000000000000000000000000000000000000000000000005b6000816002546108db9190610e46565b90507f000000000000000000000000000000000000000000000000000000000000000081111561093557600254610932907f0000000000000000000000000000000000000000000000000000000000000000610e2d565b91505b81600260008282546109479190610e46565b9250508190555081600384604001516040516109639190610dfb565b908152602001604051809103902060008282546109809190610e46565b909155505060408051610180810190915260046101408201908152631b5a5b9d60e21b6101608301528152600080547fd78fa2b8ff6af28134a187b873b5a243310284a2192d37de10fdc79679413e24929160208301916109e090610dc1565b80601f0160208091040260200160405190810160405280929190818152602001828054610a0c90610dc1565b8015610a595780601f10610a2e57610100808354040283529160200191610a59565b820191906000526020600020905b815481529060010190602001808311610a3c57829003601f168201915b505050505081526020017f000000000000000000000000000000000000000000000000000000000000000081526020017f000000000000000000000000000000000000000000000000000000000000000081526020018481526020017f000000000000000000000000000000000000000000000000000000000000000060ff1681526020018560200151815260200185604001518152602001600115158152602001604051806040016040528060028152602001616f6b60f01b815250815250604051610b269190610e59565b60405180910390a1505050565b6000805461030590610dc1565b60005b83811015610b5b578181015183820152602001610b43565b50506000910152565b60008151808452610b7c816020860160208601610b40565b601f01601f19169290920160200192915050565b602081526000610ba36020830184610b64565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610bd157600080fd5b813567ffffffffffffffff80821115610bec57610bec610baa565b604051601f8301601f19908116603f01168101908282118183101715610c1457610c14610baa565b81604052838152866020858801011115610c2d57600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610c5f57600080fd5b813567ffffffffffffffff811115610c7657600080fd5b610c8284828501610bc0565b949350505050565b602081526000825160806020840152610ca660a0840182610b64565b9050602084015160408401526040840151606084015260ff60608501511660808401528091505092915050565b600060808284031215610ce557600080fd5b6040516080810167ffffffffffffffff8282108183111715610d0957610d09610baa565b816040528293508435915080821115610d2157600080fd5b610d2d86838701610bc0565b83526020850135915080821115610d4357600080fd5b610d4f86838701610bc0565b60208401526040850135915080821115610d6857600080fd5b50610d7585828601610bc0565b604083015250606083013560608201525092915050565b600060208284031215610d9e57600080fd5b813567ffffffffffffffff811115610db557600080fd5b610c8284828501610cd3565b600181811c90821680610dd557607f821691505b602082108103610df557634e487b7160e01b600052602260045260246000fd5b50919050565b60008251610e0d818460208701610b40565b9190910192915050565b634e487b7160e01b600052601160045260246000fd5b81810381811115610e4057610e40610e17565b92915050565b80820180821115610e4057610e40610e17565b6020815260008251610140806020850152610e78610160850183610b64565b91506020850151601f1980868503016040870152610e968483610b64565b93506040870151606087015260608701516080870152608087015160a087015260a08701519150610ecc60c087018360ff169052565b60c08701519150808685030160e0870152610ee78483610b64565b935060e08701519150610100818786030181880152610f068584610b64565b945080880151925050610120610f1f8188018415159052565b870151868503909101838701529050610f388382610b64565b969550505050505056fea264697066735822122013d76768b5be832a6dc99f53a01e648b1def4c697d5aa4844cc04599ad1e137664736f6c63430008110033a2646970667358221220fe64a41e36fac079ae6a01b12ef1e71f5cfe1b3190423d35982484615a51416764736f6c63430008110033\",\"name\":\"src-20\",\"op\":\"create\",\"p\":\"brczero\",\"waitinit\":true}" \
  --inscription_context "{\"inscription_id\":\"46d116b777590ef08dc94f8b54d91ac9fa6e28bc3f06f574f8f2e75dc0d1db32i0\",\"inscription_number\":0,\"is_transfer\":false,\"txid\":\"46d116b777590ef08dc94f8b54d91ac9fa6e28bc3f06f574f8f2e75dc0d1db32\",\"sender\":\"bcrt1qd28jewrz9y9hpl328em5fpljvgarucgcxf7fjt\",\"receiver\":\"bcrt1qd28jewrz9y9hpl328em5fpljvgarucgcxf7fjt\",\"commit_input\":\"\",\"reveal_output\":\"\",\"old_sat_point\":\"9fdc76fe873b11566dff1adabe4b6fd92be3cd832445b8b2b1b7e4e452c23eeb:0:0\",\"new_sat_point\":\"46d116b777590ef08dc94f8b54d91ac9fa6e28bc3f06f574f8f2e75dc0d1db32:0:0\",\"block_hash\":\"071844699637412cca4d38175eaf5420d27b454116efea1c3d20a36548befd5e\",\"block_time\":1700669916,\"block_height\":0}" \
  --home $HOME_SERVER \
  --chain-id $CHAINID
# Collect genesis tx
brczerod collect-gentxs --home $HOME_SERVER

# Run this to ensure everything worked and that the genesis file is setup correctly
brczerod validate-genesis --home $HOME_SERVER
brczerocli config keyring-backend test

run

sleep 4

